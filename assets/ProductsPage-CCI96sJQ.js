import{p as c}from"./productsStore-B4z_CzgM.js";import{_ as k,o,c as r,a as e,n as v,i as h,F as g,j as b,t as i,m as S,k as T,C as O,r as _,b as p,h as N,l as B,w as m,e as P,q as E,d as C,p as L,f as D}from"./index-CBSvdbJm.js";import{L as I}from"./LoadingOverlay-XGDnd2l3.js";import{A as q}from"./aos-ZFNukG73.js";import"./cartStore-BmVPIADP.js";import"./drone_logo3-B-egRVc4.js";const V={props:["pages","currentCategory"],data(){return{}},methods:{emitPages(t){const s=this.currentCategory||"";c().loadingStatus=!0,this.$emit("emit-pages",s,t),window.scrollTo(0,500)}}},M={"aria-label":"Page navigation example"},j={class:"pagination"},A=e("span",{"aria-hidden":"true"},"«",-1),U=[A],F={key:0,class:"page-link"},R=["onClick"],z=e("span",{"aria-hidden":"true"},"»",-1),G=[z];function H(t,s,n,w,x,d){return o(),r("nav",M,[e("ul",j,[e("li",{class:v(["page-item",{disabled:n.pages.current_page===1}])},[e("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:s[0]||(s[0]=h(l=>d.emitPages(n.pages.current_page-1),["prevent"]))},U)],2),(o(!0),r(g,null,b(n.pages.total_pages,(l,u)=>(o(),r("li",{class:"page-item",key:u},[l===n.pages.current_page?(o(),r("span",F,i(l),1)):(o(),r("a",{key:1,class:"page-link",href:"#",onClick:h(y=>d.emitPages(l),["prevent"])},i(l),9,R))]))),128)),e("li",{class:v(["page-item",{disabled:n.pages.current_page===n.pages.total_pages}])},[e("a",{class:"page-link",href:"#","aria-label":"Next",onClick:s[1]||(s[1]=h(l=>d.emitPages(n.pages.current_page+1),["prevent"]))},G)],2)])])}const J=k(V,[["render",H]]);q.init({disable:!1,startEvent:"DOMContentLoaded",initClassName:"aos-init",animatedClassName:"aos-animate",useClassNames:!1,disableMutationObserver:!1,debounceDelay:50,throttleDelay:99,offset:120,delay:0,duration:400,easing:"ease",once:!1,mirror:!1,anchorPlacement:"top-bottom"});const K={computed:{...S(c,["products","pagination","loadingStatus","loadingIcon","category","currentCategory","currentPage"]),searchText:{get(){return c().searchText},set(t){c().searchText=t}},searchPlaceholder(){return this.$t("productPage.search")}},components:{PaginationBar:J,LoadingOverlay:I},methods:{...T(c,["renderProducts","addToCart","search"]),viewDetail(t){this.products.find(n=>n.id===t)&&this.$router.push(`products/${t}`)},changePage(t,s){this.$router.push({path:"/products",query:{category:t||"",page:s||1}})},resetSearch(){c().searchText="",c().loadingStatus=!0,this.renderProducts("",1)}},mounted(){this.renderProducts(this.currentCategory,this.currentPage),new O(this.$refs.collapseElement).hide()},watch:{"$route.query":{handler(){if(this.$route.query.category===void 0)return;c().searchText="",c().loadingStatus=!0;const{category:t,page:s}=this.$route.query;this.renderProducts(t,s)},deep:!0}}},$=t=>(L("data-v-d61cbd6c"),t=t(),D(),t),Q={class:"container mt-md-5 mt-3 mb-7"},W={class:"row"},X={class:"col-md-2"},Y={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},Z={class:"input-group w-100 mt-md-0 my-3"},ee=["placeholder"],te={class:"card border-0"},se={class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},ae={class:"d-flex justify-content-between align-items-center pe-1",style:{cursor:"pointer"}},oe={class:"mb-0"},re=$(()=>e("i",{class:"fas fa-chevron-down rotate-icon","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},null,-1)),ne={id:"collapseOne",ref:"collapseElement",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},de={class:"card-body py-0"},ce={class:"list-unstyled"},ie={class:"col-md-10"},le={class:"row"},ue={key:0},pe={class:"text-center"},ge={class:"card border-0 mb-4 position-relative bg-light"},he={class:"card-img"},_e=["src"],me={class:"card-body p-0 text-center","data-aos":"fade-up"},be={class:"mb-0 mt-3"},ye=["onClick"],fe={class:"text-muted"},ve={class:"card-text mt-2 mb-0"},Pe=$(()=>e("p",{class:"text-muted mt-3"},null,-1)),Ce={class:"d-flex justify-content-center"};function ke(t,s,n,w,x,d){const l=_("LoadingOverlay"),u=_("RouterLink"),y=_("PaginationBar");return o(),r(g,null,[p(l,{active:t.loadingStatus,"onUpdate:active":s[0]||(s[0]=a=>t.loadingStatus=a),"is-full-page":!0},null,8,["active"]),e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[N(e("input",{type:"text",class:"form-control rounded-0 searchBar",style:{height:"45px"},placeholder:d.searchPlaceholder,onInput:s[1]||(s[1]=a=>t.search()),"onUpdate:modelValue":s[2]||(s[2]=a=>d.searchText=a)},null,40,ee),[[B,d.searchText]])]),e("h4",null,[p(u,{class:"py-2 d-block text-muted",to:"/products",onClick:d.resetSearch},{default:m(()=>[C(i(t.$t("productPage.allProducts")),1)]),_:1},8,["onClick"])]),e("div",te,[e("div",se,[e("div",ae,[e("h4",oe,i(t.$t("productPage.expand")),1),re])]),e("div",ne,[e("div",de,[e("ul",ce,[(o(!0),r(g,null,b(t.category,(a,f)=>(o(),r("li",{key:f},[p(u,{class:"py-2 d-block text-muted",to:`/products?category=${a}`},{default:m(()=>[C(i(a),1)]),_:2},1032,["to"])]))),128))])])],512)])])]),e("div",ie,[e("div",le,[t.products.length===0?(o(),r("div",ue,[e("h2",pe,i(t.$t("productPage.noContent")),1)])):P("",!0),(o(!0),r(g,null,b(t.products,a=>(o(),r("div",{class:"col-md-6",key:a.id},[e("div",ge,[p(u,{to:`products/${a.id}`},{default:m(()=>[e("div",he,[e("img",{src:`${a.imageUrl}`,class:"card-img-top rounded-2",alt:"...","data-aos":"fade-up"},null,8,_e)])]),_:2},1032,["to"]),e("div",me,[e("h4",be,[e("button",{type:"button",class:"btn btn-outline-dark fw-bold",onClick:f=>d.viewDetail(a.id)},i(a.title),9,ye)]),e("span",fe,[e("del",null,"NT$ "+i(t.$filters.currency(a.origin_price)),1)]),e("h5",ve," NT$ "+i(t.$filters.currency(a.price)),1),Pe])])]))),128))]),e("nav",Ce,[t.products.length!==0?(o(),E(y,{key:0,pages:t.pagination,onEmitPages:d.changePage,"current-Category":t.currentCategory},null,8,["pages","onEmitPages","current-Category"])):P("",!0)])])])])],64)}const Ne=k(K,[["render",ke],["__scopeId","data-v-d61cbd6c"]]);export{Ne as default};
