import{L as w}from"./LoadingOverlay-vrsSGNhf.js";import{c as f}from"./cartStore-BCMvE24R.js";import{_ as $,m as C,k as V,r as c,o as i,c as m,b as r,a as e,t as s,F as b,j as N,e as p,w as _,d as v,n as u}from"./index-B2C3xRY_.js";import"./drone_logo3-B-egRVc4.js";const S={computed:{...C(f,["cart","loadingStatus","loadingIcon","form","resetUserForm"]),address(){return this.$t("checkout.address")},enterAddress(){return this.$t("checkout.enterAddress")},name(){return this.$t("checkout.name")},enterName(){return this.$t("checkout.enterName")},phone(){return this.$t("checkout.phone")},enterPhone(){return this.$t("checkout.enterPhone")}},components:{LoadingOverlay:w},methods:{...V(f,["getCartList"]),sendOrder(){f().sendOrder().then(t=>{this.$swal.fire({title:this.$t("cart.orderCreated"),icon:"success",showConfirmButton:!1,timer:1e3,customClass:{title:"swal-title"}})})}},mounted(){},watch:{resetUserForm(t){t===!0&&(this.$refs.form.resetForm(),this.$router.push("/checkoutSuccess"))}}},U={class:"container"},j={class:"row justify-content-center"},L={class:"col-md-12"},O={class:"fw-bold mb-4 pt-4"},A={class:"row flex-row-reverse justify-content-center pb-5"},P={class:"col-md-6"},T={class:"border p-4 mb-4 bg-light"},q=["src"],F={class:"w-100"},M={class:"d-flex justify-content-between"},B={class:"mb-0 fw-bold ms-3 d-inline-block"},x={key:0,class:"text-success fs-12"},E={class:"mb-0"},I={class:"table mt-4 border-top border-bottom text-muted"},R={scope:"row",class:"border-0 px-0 pt-4 font-weight-normal bg-light"},z={class:"text-end border-0 px-0 pt-4 bg-light"},D={scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal bg-light"},H=e("td",{class:"text-end border-0 px-0 pt-0 pb-4 bg-light"},"ApplePay",-1),G={class:"d-flex justify-content-between mt-4"},J={class:"mb-0 h4 fw-bold"},K={class:"mb-0 h4 fw-bold"},Q={key:0,class:"d-flex justify-content-between mt-4"},W={class:"mb-0 h4 fw-bold text-success"},X={class:"mb-0 h4 fw-bold text-success"},Y={class:"mb-2"},Z=e("label",{for:"ContactMail",class:"text-muted mb-0 form-label"},"Email",-1),ee={class:"mb-2"},te={for:"ContactAddress",class:"text-muted mb-0 form-label"},se={class:"mb-2"},oe={for:"ContactName",class:"text-muted mb-0 form-label"},le={class:"mb-2"},ae={for:"ContactPhone",class:"text-muted mb-0 form-label"},re={class:"mb-2"},ne={for:"ContactMessage",class:"text-muted mb-0 form-label"},de={class:"d-flex flex-column-reverse flex-md-row mt-4 justify-content-between align-items-md-center align-items-end w-100"},ce=e("i",{class:"fas fa-chevron-left me-2"},null,-1),ie={type:"submit",class:"btn btn-dark py-3 px-7"};function me(t,a,ue,he,fe,l){const g=c("LoadingOverlay"),d=c("v-field"),h=c("error-message"),k=c("RouterLink"),y=c("v-form");return i(),m(b,null,[r(g,{active:t.loadingStatus,"onUpdate:active":a[0]||(a[0]=o=>t.loadingStatus=o),"is-full-page":!0},null,8,["active"]),e("div",U,[e("div",j,[e("div",L,[e("h3",O,s(t.$t("checkout.title")),1)])]),e("div",A,[e("div",P,[e("div",T,[(i(!0),m(b,null,N(t.cart.carts,o=>(i(),m("div",{class:"d-flex mb-2",key:o.id},[e("img",{src:o.product.imageUrl,alt:"",class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,q),e("div",F,[e("div",M,[e("div",B,[v(s(o.product.title)+" x "+s(o.qty)+" ",1),o.coupon?(i(),m("div",x,s(t.$t("checkout.coupon"))+"-"+s(o.coupon.title),1)):p("",!0)]),e("p",E,"NT$ "+s(t.$filters.currency(o.product.price)),1)])])]))),128)),e("table",I,[e("tbody",null,[e("tr",null,[e("th",R,s(t.$t("common.subtotal")),1),e("td",z,"NT$ "+s(t.$filters.currency(t.cart.total)),1)]),e("tr",null,[e("th",D,s(t.$t("checkout.paymentMethod")),1),H])])]),e("div",G,[e("p",J,s(t.$filters.currency(t.cart.total)),1),e("p",K,"NT$ "+s(t.$filters.currency(t.cart.total)),1)]),t.cart.total!==t.cart.final_total?(i(),m("div",Q,[e("p",W,s(t.$t("common.discountPrice")),1),e("p",X,"NT$ "+s(t.$filters.currency(t.cart.final_total)),1)])):p("",!0)])]),r(y,{class:"col-md-6",ref:"form",onSubmit:l.sendOrder},{default:_(({errors:o})=>[e("div",null,[e("p",null,s(t.$t("checkout.contactInfo")),1),e("div",Y,[Z,r(d,{id:"ContactMail",name:"email",type:"email",class:u(["form-control",{"is-invalid":o.email}]),"aria-describedby":"emailHelp",placeholder:"example@gmail.com",rules:"required|email",modelValue:t.form.user.email,"onUpdate:modelValue":a[1]||(a[1]=n=>t.form.user.email=n)},null,8,["class","modelValue"]),r(h,{name:"email",class:"invalid-feedback"})]),e("div",ee,[e("label",te,s(t.$t("checkout.address")),1),r(d,{id:"ContactAddress",name:l.address,type:"text",class:u(["form-control",{"is-invalid":o[l.address]}]),placeholder:l.enterAddress,rules:"required",modelValue:t.form.user.address,"onUpdate:modelValue":a[2]||(a[2]=n=>t.form.user.address=n)},null,8,["name","placeholder","class","modelValue"]),r(h,{name:l.address,class:"invalid-feedback"},null,8,["name"])]),e("div",se,[e("label",oe,s(t.$t("checkout.name")),1),r(d,{id:"ContactName",name:l.name,type:"text",class:u(["form-control",{"is-invalid":o[l.name]}]),placeholder:l.enterName,rules:"required",modelValue:t.form.user.name,"onUpdate:modelValue":a[3]||(a[3]=n=>t.form.user.name=n)},null,8,["name","placeholder","class","modelValue"]),r(h,{name:l.name,class:"invalid-feedback"},null,8,["name"])]),e("div",le,[e("label",ae,s(t.$t("checkout.phone")),1),r(d,{id:"ContactPhone",name:l.phone,type:"text",class:u(["form-control",{"is-invalid":o[l.phone]}]),placeholder:l.enterPhone,rules:"required|regex:^(09)[0-9]{8}$",modelValue:t.form.user.tel,"onUpdate:modelValue":a[4]||(a[4]=n=>t.form.user.tel=n)},null,8,["name","placeholder","class","modelValue"]),r(h,{name:l.phone,class:"invalid-feedback"},null,8,["name"])]),e("div",re,[e("label",ne,s(t.$t("checkout.message")),1),r(d,{id:"ContactMessage",name:"留言",as:"textarea",class:u(["form-control",{"is-invalid":o.留言}]),rows:"3",placeholder:"message ... ",rules:"",modelValue:t.form.message,"onUpdate:modelValue":a[5]||(a[5]=n=>t.form.message=n)},null,8,["class","modelValue"])])]),e("div",de,[r(k,{to:"/cart",class:"text-dark mt-md-0 mt-3"},{default:_(()=>[ce,v(s(t.$t("checkout.backToCart")),1)]),_:1}),e("button",ie,s(t.$t("checkout.submitOrder")),1)])]),_:1},8,["onSubmit"])])])],64)}const ge=$(S,[["render",me]]);export{ge as default};
